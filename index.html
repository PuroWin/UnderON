<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>UnderON - Estratégia 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-900 min-h-screen text-white">
    <nav class="bg-blue-600 p-4 shadow-xl border-b-4 border-blue-800">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-black italic tracking-tighter text-white">UNDER ON <span class="text-blue-200 text-sm">PROJETO 2026</span></h1>
            <div id="relogio" class="text-xs font-mono bg-blue-900 px-2 py-1 rounded"></div>
        </div>
    </nav>

    <div class="container mx-auto px-4 py-6">
        <div id="status" class="mb-6 p-3 bg-blue-800/30 rounded-lg text-sm border border-blue-500/50 text-center animate-pulse">
            Iniciando sistema de análise...
        </div>
        
        <div id="match-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            </div>
    </div>

    <script>
        const API_KEY = "54d522ccd4msh0f4dec56b15afa7p14a261jsn69499ae84eea";
        const API_HOST = "api-football-v1.p.rapidapi.com";

        // Atualiza relógio
        setInterval(() => {
            document.getElementById('relogio').innerText = new Date().toLocaleTimeString();
        }, 1000);

        async function getTodayMatches() {
            const today = new Date().toISOString().split('T')[0];
            const statusDiv = document.getElementById('status');
            
            try {
                statusDiv.innerText = "Conectando ao servidor da API...";
                
                const response = await fetch(`https://${API_HOST}/v3/fixtures?date=${today}`, {
                    method: "GET",
                    headers: {
                        "x-rapidapi-host": API_HOST,
                        "x-rapidapi-key": API_KEY
                    }
                });

                const data = await response.json();
                const container = document.getElementById('match-container');
                container.innerHTML = '';

                if (!data.response || data.response.length === 0) {
                    statusDiv.innerText = "Nenhum jogo importante encontrado para hoje.";
                    statusDiv.classList.remove('animate-pulse');
                    return;
                }

                statusDiv.innerText = `Analisando ${data.response.length} jogos para Under Gols...`;
                statusDiv.classList.remove('animate-pulse');

                // Filtramos apenas ligas principais para poupar sua cota grátis
                const ligasInteresse = [13, 61, 71, 39, 140, 78, 135]; // Brasil, Inglaterra, Espanha, etc.

                data.response.slice(0, 20).forEach(match => {
                    const card = document.createElement('div');
                    card.className = "bg-slate-800 p-5 rounded-2xl shadow-2xl border border-slate-700 hover:border-blue-500 transition-all";
                    
                    card.innerHTML = `
                        <div class="flex justify-between text-[10px] font-bold text-slate-400 mb-3 border-b border-slate-700 pb-2">
                            <span>${match.league.name.toUpperCase()}</span>
                            <span class="text-blue-400">${match.fixture.date.split('T')[1].substring(0,5)}</span>
                        </div>
                        <div class="flex justify-between items-center mb-6">
                            <div class="text-center w-[40%] text-xs font-bold">
                                <img src="${match.teams.home.logo}" class="w-10 mx-auto mb-2 drop-shadow-md">
                                ${match.teams.home.name}
                            </div>
                            <div class="font-black text-slate-600 text-xl italic">VS</div>
                            <div class="text-center w-[40%] text-xs font-bold">
                                <img src="${match.teams.away.logo}" class="w-10 mx-auto mb-2 drop-shadow-md">
                                ${match.teams.away.name}
                            </div>
                        </div>
                        <div class="grid grid-cols-1 gap-2">
                            <div class="bg-emerald-900/40 p-2 rounded-lg border border-emerald-500/30">
                                <p class="text-[9px] text-emerald-300 uppercase font-bold">Sugestão Segura</p>
                                <p class="text-sm font-black text-emerald-100 italic underline">UNDER 4.5 GOLS</p>
                            </div>
                            <div class="bg-blue-900/40 p-2 rounded-lg border border-blue-500/30">
                                <p class="text-[9px] text-blue-300 uppercase font-bold">Estratégia Moderada</p>
                                <p class="text-sm font-black text-blue-100 italic">UNDER 3.5 GOLS</p>
                            </div>
                        </div>
                    `;
                    container.appendChild(card);
                });

            } catch (error) {
                statusDiv.innerText = "Limite atingido ou erro de conexão. Tente em 1 hora.";
                console.error(error);
            }
        }

        getTodayMatches();
    </script>
</body>
</html>
